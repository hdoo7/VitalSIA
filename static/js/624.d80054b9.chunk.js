"use strict";(self.webpackChunkEVA_libre=self.webpackChunkEVA_libre||[]).push([[624],{94624:(e,n,t)=>{t.r(n),t.d(n,{start:()=>A,stop:()=>C});var s=t(65043),r=t(93748),o=t(84391),i=t(53409),c=t(62872),a=t(42026),u=t(96308),l=t(38462),f=t(34003),h=t(69108),d=t(70579);let g=null;const p=e=>{let{animationManager:n}=e;const[t,o]=(0,s.useState)(0),[g,p]=(0,s.useState)(null),A=(0,s.useRef)(t),C=(0,r.d)(),v=(0,s.useMemo)((()=>[{french:"Bonjour",english:"Hello"},{french:"Merci",english:"Thank you"},{french:"Chat",english:"Cat"},{french:"Tet",english:"Head"},{french:"Maison",english:"House"}]),[]);(0,s.useEffect)((()=>{A.current=t}),[t]);const b=(0,s.useMemo)((()=>function*(){for(let e of v)yield"Que veut dire ".concat(e.french," en anglais ?");yield"Vous avez termin\xe9 le quiz! Vous avez obtenu ".concat(A.current," bonnes r\xe9ponses sur ").concat(v.length,". Merci d'avoir particip\xe9!")}),[v]),k=(0,s.useMemo)((()=>function*(){for(let e of v){(yield).toLowerCase().includes(e.english.toLowerCase())?(o((e=>e+1)),yield"Correct!"):yield"Incorrect. La r\xe9ponse correcte est: ".concat(e.english)}}),[v]),[x,m]=(0,s.useState)({status:"idle",transcribedText:null,speakingText:null}),w=(0,s.useRef)(new a.A("webspeech")).current,y=(0,s.useRef)(u.A.getInstance(n)).current,M=(0,s.useRef)(new l.A(1e3,w,y)).current;(0,c.A)(n,g);const{startConversation:j,stopConversation:E}=(0,i.A)(w,y,M,b,k);return(0,s.useEffect)((()=>(y.findAndSetVoice("Google fran\xe7ais").then((()=>{j()})),()=>{E()})),[j,E,y]),(0,s.useEffect)((()=>{"thinking"===x.status?C({title:"Processing...",description:"Processing your response...",status:"info",duration:2e3}):"talking"===x.status&&C({title:"Response",description:x.speakingText,status:"success",duration:4e3})}),[x.status,C]),(0,d.jsxs)("div",{children:[(0,d.jsx)(h.A,{onEmotionStateChange:p}),"  ",(0,d.jsx)(f.A,{status:x.status}),(0,d.jsx)("div",{children:(0,d.jsxs)("h2",{children:["Correct Answers: ",t]})})]})},A=(e,n,t)=>{t&&t.current?(g||(g=(0,o.createRoot)(t.current)),g.render((0,d.jsx)(p,{animationManager:e}))):console.error("Invalid container reference")},C=()=>{console.log("Stopping French Vocabulary Quiz..."),g&&(g.unmount(),g=null)}}}]);
//# sourceMappingURL=624.d80054b9.chunk.js.map