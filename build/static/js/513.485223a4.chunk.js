"use strict";(self.webpackChunkEVA_libre=self.webpackChunkEVA_libre||[]).push([[513],{42026:(e,n,o)=>{o.d(n,{A:()=>t});class t{constructor(){this.recognition=null,this.isListening=!1}initializeRecognizer(){return"webkitSpeechRecognition"in window?(this.recognition=new window.webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!1,this.recognition.lang="en-US",Promise.resolve()):(console.error("Web Speech API not supported in this browser."),Promise.reject("Web Speech API not supported"))}startContinuousRecognition(e){if(!this.isListening)return new Promise(((n,o)=>{this.initializeRecognizer().then((()=>{this.recognition.onresult=n=>{const o=Array.from(n.results).map((e=>e[0].transcript)).join("");console.log("RECOGNIZED: ".concat(o.trim())),e(o.trim())},this.recognition.onerror=e=>{console.error("Speech recognition error:",e.error),"no-speech"===e.error?(console.warn("No speech detected, resuming listening..."),setTimeout((()=>{this.recognition.start()}),1e3)):o(e.error)},this.recognition.onend=()=>{console.log("Speech recognition ended, restarting..."),this.isListening&&this.recognition.start()},this.isListening=!0,this.recognition.start(),n()})).catch((e=>{console.error("Error initializing speech recognition:",e),o(e)}))}));console.warn("Recognition is already running.")}stopRecognition(){this.recognition&&(this.isListening=!1,this.recognition.stop(),console.log("Recognition stopped."))}}},43513:(e,n,o)=>{o.r(n),o.d(n,{start:()=>p,stop:()=>w});o(84391),o(65043);var t=o(42026),i=o(96308);let s=null,r=null,c=0,l=0,g=[{french:"Bonjour",english:"Hello"},{french:"Merci",english:"Thank you"},{french:"Chat",english:"Cat"},{french:"Chien",english:"Dog"},{french:"Maison",english:"House"}];const h=()=>{if(c<g.length){const e="Que veut dire ".concat(g[c].french," en anglais ?");console.log("Asking question: ".concat(e)),s.enqueueText(e),s.synthesizeSpeech(e).then((()=>{console.log("Question spoken. Starting to listen for an answer..."),r.startContinuousRecognition((e=>{a(e)}))}))}else u()},a=e=>{const n=g[c],o=e.trim().toLowerCase(),t=n.english.toLowerCase();console.log("User answered: ".concat(o)),o===t?(l++,console.log("Correct answer!"),s.enqueueText("Correct !")):(console.log("Incorrect answer. The correct answer is: ".concat(n.english)),s.enqueueText("Incorrect. La bonne r\xe9ponse est ".concat(n.english))),c++,h()},u=()=>{console.log("Quiz ended. You got ".concat(l," out of ").concat(g.length," correct.")),s.enqueueText("Vous avez termin\xe9 le quiz ! Vous avez obtenu ".concat(l," bonnes r\xe9ponses sur ").concat(g.length,"."))},p=e=>{console.log("Initializing French Vocabulary Quiz..."),s=i.A.getInstance(e),r=new t.A("webspeech"),c=0,l=0,new Promise((e=>{console.log("Attempting to set the voice to French...");const n=()=>{const o=s.getVoices().find((e=>e.name.includes("Google fran\xe7ais")));o?(s.setVoice(o.name),console.log("French voice set: ".concat(o.name)),e()):(console.log("French voice not found, retrying..."),setTimeout(n,500))};n()})).then((()=>{console.log("Starting the quiz with the first question..."),s.enqueueText("Commen\xe7ons le quiz de vocabulaire en fran\xe7ais !"),h()}))},w=()=>{console.log("Stopping French Vocabulary Quiz..."),r&&r.stopRecognition(),s&&s.stopSpeech(),console.log("Quiz stopped.")}}}]);
//# sourceMappingURL=513.485223a4.chunk.js.map